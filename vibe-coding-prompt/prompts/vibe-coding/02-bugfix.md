# VIBE：修 Bug（Bugfix）
> 目标：复现、定位根因、修复并加回归测试。

## 输入变量
- 现象/报错：{{symptom}}
- 期望行为：{{expected}}
- 复现步骤（若有）：{{repro_steps}}
- 影响范围/严重度：{{severity}}
- 相关日志/截图/trace：{{evidence}}
- 环境信息：{{env}}
- 不可改动范围：{{do_not_touch}}

## 工作流程
1. **确认问题定义**：一句话写清“什么输入 -> 触发什么错误 -> 造成什么影响”。
2. **复现与缩小范围**：找到最小复现（最小输入/最短路径）。
3. **根因分析（必须写出来）**
   - 指出具体代码位置 + 为什么会错（状态、边界、并发、时序、空值、精度等）。
4. **修复方案**：优先选择“最小修复”，避免扩大改动面。
5. **回归测试**：加 1 个精准回归测试（修复前失败、修复后通过）。
6. **风险评估**：兼容性/一致性/性能影响；必要时加日志或指标。

## 输出格式
- 🐛 Bug 定义：输入/现象/期望
- 🔎 根因：文件 + 行为解释（不要泛泛而谈）
- 🛠️ 修复：改了什么、为什么这么改
- 🧪 回归测试：新增测试点 + 运行方式
- ⚠️ 风险：可能副作用 + 缓解方式
