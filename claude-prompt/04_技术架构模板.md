# 技术架构设计模板

> 适用于：系统架构设计、技术选型、方案评估、创新整合

---

## 完整模板

```markdown
# 角色定位
你是一位具备跨领域整合能力的系统架构师，擅长从碎片化的
技术演进中识别底层范式，并将其重组为具有突破性的解决方案。

# 任务目标
针对 [具体领域/问题]，设计一个新一代架构方案，需满足：
- 超越现有主流方案的核心瓶颈
- 具备实际工程落地可行性
- 体现前瞻性但不脱离3-5年技术演进轨迹

# 思考框架（请显式执行）

## 第一阶段：现状解构
1. 当前该领域的主流架构范式是什么？列举2-3个代表性方案
2. 这些方案各自解决了什么核心问题？又在哪些维度存在本质局限？
3. 近2年出现了哪些有潜力但尚未成为主流的技术/论文/开源项目？

## 第二阶段：跨域迁移
4. 从相邻领域（如 [领域A]、[领域B]）中，有哪些设计思想/架构模式可以迁移？
5. 这些外部范式与本领域的兼容性如何？需要何种适配？

## 第三阶段：重组创新
6. 基于上述分析，提出你的核心创新点（不超过3个，需具体到机制层面）
7. 设计整体架构，包含：
   - 分层结构与模块职责
   - 关键数据流与控制流
   - 与现有生态的集成策略

## 第四阶段：验证与边界
8. 该方案在哪些场景下会显著优于现有方案？量化预期收益
9. 该方案的适用边界是什么？在哪些场景下反而不适合？
10. 落地需要克服的关键工程挑战是什么？

# 输出要求
- 先完成完整的思考过程，再给出最终方案
- 架构图用文字描述清晰的模块关系（可后续转为可视化）
- 对于引用的技术/论文/项目，标注具体名称以便查证
- 避免空洞的形容词，用具体的机制和数据说话
```

---

## 技术选型模板

```markdown
# 任务
为 [项目/场景] 进行技术选型分析

# 分析框架

## 1. 需求分析
- 功能需求：需要实现什么
- 非功能需求：性能、可用性、扩展性、安全性
- 约束条件：团队技术栈、预算、时间

## 2. 候选方案
列举3-5个候选技术/框架，简要介绍

## 3. 对比分析
| 维度 | 方案A | 方案B | 方案C |
|------|-------|-------|-------|
| 功能完整性 | | | |
| 性能表现 | | | |
| 学习成本 | | | |
| 社区生态 | | | |
| 长期维护 | | | |

## 4. 推荐结论
- 推荐方案及理由
- 备选方案及适用场景
- 风险提示
```

---

## 架构评审模板

```markdown
# 任务
评审 [架构方案] 的合理性

# 评审维度

## 1. 业务适配性
- 是否满足业务需求
- 是否支持未来业务扩展

## 2. 技术合理性
- 技术选型是否恰当
- 模块划分是否清晰
- 接口设计是否合理

## 3. 可扩展性
- 水平扩展能力
- 垂直扩展能力
- 新功能扩展难度

## 4. 可靠性
- 单点故障风险
- 容错机制
- 灾备方案

## 5. 安全性
- 认证授权
- 数据安全
- 攻击防护

## 6. 可维护性
- 监控告警
- 日志追踪
- 部署运维

# 输出格式
1. 优点总结
2. 问题清单（按严重程度排序）
3. 改进建议
4. 结论（通过/有条件通过/不通过）
```

---

## 使用示例

### 示例1：微服务架构设计

**用户输入：**
```markdown
# 角色
你是系统架构师

# 任务
为一个电商平台设计微服务架构，要求：
- 日活100万用户
- 支持秒杀场景
- 需要高可用、可扩展

# 请按四阶段框架分析
1. 现状解构：主流电商架构方案
2. 跨域迁移：可借鉴的设计模式
3. 重组创新：核心设计决策
4. 验证边界：适用场景和限制
```

### 示例2：AI系统架构

**用户输入：**
```markdown
# 角色
你是AI系统架构师

# 任务
设计一个多模态融合的在线学习系统架构

# 要求
- 支持视频、音频、文本多模态输入
- 实时推理延迟<100ms
- 支持模型在线更新

# 请给出
1. 整体架构图（文字描述）
2. 关键技术选型
3. 数据流设计
4. 性能优化策略
```

---

## 架构图文字描述规范

当无法直接画图时，用结构化文字描述：

```markdown
## 系统架构

### 分层结构
┌─────────────────────────────────────┐
│           表现层 (Presentation)      │
│   Web App │ Mobile App │ Admin      │
├─────────────────────────────────────┤
│           网关层 (Gateway)           │
│   API Gateway │ Load Balancer       │
├─────────────────────────────────────┤
│           服务层 (Service)           │
│   用户服务 │ 订单服务 │ 商品服务     │
├─────────────────────────────────────┤
│           数据层 (Data)              │
│   MySQL │ Redis │ Elasticsearch     │
└─────────────────────────────────────┘

### 核心数据流
1. 用户请求 → API Gateway
2. Gateway → 路由到对应服务
3. 服务 → 查询/写入数据层
4. 结果 → 返回用户

### 关键设计决策
- 服务间通信：gRPC（内部）+ REST（外部）
- 消息队列：Kafka（异步解耦）
- 缓存策略：Redis（热点数据）+ 本地缓存（静态配置）
```

---

## 常用架构模式速查

| 模式 | 适用场景 | 核心思想 |
|------|---------|---------|
| 分层架构 | 大多数系统 | 关注点分离 |
| 微服务 | 大型复杂系统 | 独立部署、技术异构 |
| 事件驱动 | 异步处理、解耦 | 发布-订阅 |
| CQRS | 读写分离场景 | 命令查询分离 |
| Serverless | 弹性伸缩、低成本 | 函数即服务 |
| 六边形架构 | 可测试性要求高 | 端口-适配器 |

---

## 注意事项

1. **避免过度设计**
   - 根据实际规模选择架构复杂度
   - 不要为了"先进"而引入不必要的复杂性

2. **考虑团队能力**
   - 架构要与团队技术能力匹配
   - 新技术引入要考虑学习成本

3. **渐进式演进**
   - 优先解决当前痛点
   - 预留扩展点，但不提前实现

4. **数据说话**
   - 性能要求要有具体数字
   - 对比分析要有量化指标
